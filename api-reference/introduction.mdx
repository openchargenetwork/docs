---
title: "Introduction"
description: "Opencharge API reference for payment interoperability and verifiable settlement"
---

## Overview

The Opencharge API enables decentralized payment interoperability through cryptographically signed requests and transaction proofs. Every service implements these standard endpoints to participate in the Opencharge network.

<Card
  title="OpenAPI Specification"
  icon="code"
  href="https://github.com/opencharge/docs/blob/main/api-reference/openapi.json"
>
  View the complete OpenAPI specification
</Card>

## Base URL

Each Opencharge service hosts their API at their own endpoint, discoverable via the Router Registry:

```
https://api.example.com/opencharge
```

## Authentication

All authenticated requests use **secp256k1 ECDSA signatures** with these headers:

| Header           | Description                          | Example        |
| ---------------- | ------------------------------------ | -------------- |
| `X-OC-ID`        | Your OCID (Opencharge ID)            | `200`          |
| `X-OC-Timestamp` | Unix timestamp in seconds            | `1706500000`   |
| `X-OC-Nonce`     | Unique request identifier            | `req_abc123`   |
| `X-OC-Signature` | Signature of canonical request       | `a1b2c3...1b`  |

### Signature Generation

```javascript
const canonical = [
  ocid,           // Your OCID
  timestamp,      // Unix seconds
  nonce,          // Unique per request
  method,         // HTTP method (uppercase)
  path,           // Full path with query string
  bodyHash        // SHA-256 of request body (hex)
].join('\n');

const signature = secp256k1_sign(privateKey, SHA256(canonical));
```

See [Request Authentication](/guides/protocol/request-authentication) for complete details.

## Endpoints

| Endpoint | Method | Capability | Description |
| -------- | ------ | ---------- | ----------- |
| `/metadata.json` | GET | - | OCID metadata (public key, endpoint, capabilities) |
| `/capabilities` | GET | - | Discover service capabilities and settlement preferences |
| `/payment/create` | POST | `payment.create` | Create a payment to a merchant OCID |
| `/payment/settle` | POST | `payment.settle` | Submit settlement proof to complete payment |
| `/transfer/create` | POST | `transfer.create` | Create a transfer (banks/settlement providers) |
| `/verify/{txid}` | GET | `verify.txid` | Verify a transaction |

<Note>
The `/metadata.json` endpoint is hosted at the URL you register in the Router Registry.
Other services fetch this to discover your public key and verify your signatures.
</Note>

## Error Handling

All errors follow a standard format:

```json
{
  "error": {
    "code": "ISSUER_NOT_ACCEPTED",
    "message": "Proof issuer OCID 999 is not in accepted settlement sources",
    "details": {
      "providedIssuer": 999,
      "acceptedIssuers": [100, 101, 102]
    }
  }
}
```

See [Error Codes](/guides/protocol/error-codes) for the complete list.
